(this["webpackJsonp03_react-router"]=this["webpackJsonp03_react-router"]||[]).push([[0],{34:function(t,e,n){},56:function(t,e,n){"use strict";n.r(e);var c=n(1),s=n.n(c),r=n(27),o=n.n(r),i=(n(34),n(17)),a=n(8),u=function(){var t=Object(c.useState)({width:void 0,height:void 0}),e=Object(a.a)(t,2),n=e[0],s=e[1];return Object(c.useEffect)((function(){var t=function(){s({width:window.innerWidth,height:window.innerHeight})};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),n},j=n(0),l=function(t){var e=t.title,n=u().width;return Object(j.jsxs)("header",{className:"Header",children:[Object(j.jsx)("h1",{children:e}),n<768?Object(j.jsx)(i.b,{}):n<992?Object(j.jsx)(i.c,{}):Object(j.jsx)(i.a,{})]})},b=n(5),d=n(2),O=function(){var t=Object(d.g)((function(t){return t.posts})),e=Object(d.g)((function(t){return t.search})),n=Object(d.f)((function(t){return t.setSearch})),s=Object(d.f)((function(t){return t.setSearchResults}));return Object(c.useEffect)((function(){var n=t.filter((function(t){return t.body.toLowerCase().includes(e.toLowerCase())||t.title.toLowerCase().includes(e.toLowerCase())}));s(n.reverse())}),[t,e,s]),Object(j.jsxs)("nav",{className:"Nav",children:[Object(j.jsxs)("form",{className:"searchForm",onSubmit:function(t){return t.preventDefault()},children:[Object(j.jsx)("label",{htmlFor:"search",children:"Search Posts"}),Object(j.jsx)("input",{id:"search",type:"text",placeholder:"Search Posts",value:e,onChange:function(t){return n(t.target.value)}})]}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(b.b,{to:"/",children:"Home"})}),Object(j.jsx)("li",{children:Object(j.jsx)(b.b,{to:"post",children:"Post"})}),Object(j.jsx)("li",{children:Object(j.jsx)(b.b,{to:"about",children:"About"})})]})]})},h=function(){var t=Object(d.g)((function(t){return t.postCount}));return Object(j.jsx)("footer",{children:Object(j.jsxs)("p",{children:[t," Posts"]})})},p=n(3),f=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(l,{title:"React Js Blog"}),Object(j.jsx)(O,{}),Object(j.jsx)(p.a,{}),Object(j.jsx)(h,{})]})},x=function(t){var e=t.post;return Object(j.jsxs)("article",{className:"post flexAux",children:[Object(j.jsxs)(b.b,{to:"post/".concat(e.id),children:[Object(j.jsx)("h2",{children:e.title}),Object(j.jsx)("p",{className:"postDate",children:e.datetime})]}),Object(j.jsx)("p",{className:"postBodyPre",children:e.body.length<=140?e.body:"".concat(e.body.slice(0,140),"...")})]})},m=function(t){var e=t.posts;return Object(j.jsx)(j.Fragment,{children:e.map((function(t){return Object(j.jsx)(x,{post:t},t.id)}))})},v=function(t){var e=t.isLoading,n=t.fetchError,c=Object(d.g)((function(t){return t.searchResults}));return Object(j.jsxs)("main",{className:"Home flexAux",children:[e&&Object(j.jsx)("p",{className:"statusMsg",children:"Loading Posts..."}),!e&&n&&Object(j.jsx)("p",{className:"statusMsg",children:n}),!e&&!n&&(c.length?Object(j.jsx)(m,{posts:c}):Object(j.jsx)("p",{children:"No posts to display"}))]})},g=n(4),y=n.n(g),P=n(10),w=n(57),N=function(){var t=Object(p.g)(),e=Object(d.g)((function(t){return t.posts})),n=Object(d.g)((function(t){return t.postTitle})),c=Object(d.g)((function(t){return t.postBody})),s=Object(d.f)((function(t){return t.savePost})),r=Object(d.f)((function(t){return t.setPostTitle})),o=Object(d.f)((function(t){return t.setPostBody})),i=function(){var r=Object(P.a)(y.a.mark((function r(o){var i,a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o.preventDefault(),i=e.length?e[e.length-1].id+1:1,a=Object(w.a)(new Date,"MMMM dd, yyyy pp"),s({id:i,title:n,datetime:a,body:c}),t("/");case 6:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}();return Object(j.jsxs)("main",{className:"newPost flexAux",children:[Object(j.jsx)("h1",{children:"Add new Post:"}),Object(j.jsxs)("form",{className:"newPostForm",onSubmit:i,children:[Object(j.jsx)("label",{htmlFor:"postTitle",children:"Title:"}),Object(j.jsx)("input",{id:"postTitle",type:"text",required:!0,value:n,onChange:function(t){return r(t.target.value)}}),Object(j.jsx)("label",{htmlFor:"postBody",children:"Post:"}),Object(j.jsx)("textarea",{id:"postBody",required:!0,value:c,onChange:function(t){return o(t.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})]})},B=function(){var t=Object(p.h)().id,e=Object(p.g)(),n=Object(d.f)((function(t){return t.deletePost})),c=Object(d.g)((function(t){return t.getPostById}))(t),s=function(){var t=Object(P.a)(y.a.mark((function t(c){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(c),e("/");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)("main",{className:"PostPage flexAux",children:[c&&Object(j.jsxs)("article",{className:"post",children:[Object(j.jsx)("h2",{children:c.title}),Object(j.jsx)("button",{className:"deleteButton",onClick:function(){return s(c.id)},children:"Delete Post"}),Object(j.jsx)(b.b,{to:"/edit/".concat(c.id),children:Object(j.jsx)("button",{className:"editButton",children:"Edit Post"})}),Object(j.jsx)("p",{className:"postDate",children:c.datetime}),Object(j.jsx)("p",{className:"postBody",children:c.body})]}),!c&&Object(j.jsxs)("article",{className:"postNotFound",children:[Object(j.jsx)("h2",{children:"Post Not Found"}),Object(j.jsx)("p",{children:"Well, that's disappointing!"}),Object(j.jsx)("p",{children:Object(j.jsx)(b.b,{className:"toHome",to:"/",children:"Visit Our Homepage"})})]})]})},E=function(){var t=Object(p.g)(),e=Object(p.h)().id,n=Object(d.g)((function(t){return t.editTitle})),s=Object(d.g)((function(t){return t.editBody})),r=Object(d.f)((function(t){return t.editPost})),o=Object(d.f)((function(t){return t.setEditTitle})),i=Object(d.f)((function(t){return t.setEditBody})),a=Object(d.g)((function(t){return t.getPostById}))(e);Object(c.useEffect)((function(){a&&(o(a.title),i(a.body))}),[a,o,i]);var u=function(){var e=Object(P.a)(y.a.mark((function e(c){var o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Object(w.a)(new Date,"MMMM dd, yyyy pp"),r({id:c,title:n,datetime:o,body:s}),t("/post/".concat(c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("main",{className:"newPost flexAux",children:[n&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Edit Post:"}),Object(j.jsxs)("form",{className:"newPostForm",onSubmit:function(t){return t.preventDefault()},children:[" ",Object(j.jsx)("label",{htmlFor:"postTitle",children:"Title:"}),Object(j.jsx)("input",{id:"postTitle",type:"text",required:!0,value:n,onChange:function(t){return o(t.target.value)}}),Object(j.jsx)("label",{htmlFor:"postBody",children:"Post:"}),Object(j.jsx)("textarea",{id:"postBody",required:!0,value:s,onChange:function(t){return i(t.target.value)}}),Object(j.jsx)("button",{type:"button",onClick:function(){return u(a.id)},children:"Submit"})]})]}),!n&&Object(j.jsxs)("article",{className:"postNotFound",children:[Object(j.jsx)("h2",{children:"Post Not Found"}),Object(j.jsx)("p",{children:"Well, that's disappointing!"}),Object(j.jsx)("p",{children:Object(j.jsx)(b.b,{className:"toHome",to:"/",children:"Visit Our Homepage"})})]})]})},T=function(){return Object(j.jsxs)("main",{className:"about flexAux",children:[Object(j.jsx)("h2",{children:"About"}),Object(j.jsx)("p",{children:" This blog app is a project tutorial on learning react. Cool!"})]})},S=function(){return Object(j.jsxs)("main",{className:"pageNotFound flexAux",children:[Object(j.jsx)("h2",{children:"Page Not Found"}),Object(j.jsx)("p",{children:"Well, that's disappointing!"}),Object(j.jsx)("p",{children:Object(j.jsx)(b.b,{className:"toHome",to:"/",children:"Visit Our Homepage"})})]})},k=n(13),F=n.n(k),C=function(t){var e=Object(c.useState)([]),n=Object(a.a)(e,2),s=n[0],r=n[1],o=Object(c.useState)(null),i=Object(a.a)(o,2),u=i[0],j=i[1],l=Object(c.useState)(!1),b=Object(a.a)(l,2),d=b[0],O=b[1];return Object(c.useEffect)((function(){var e=!0,n=F.a.CancelToken.source(),c=function(){var t=Object(P.a)(y.a.mark((function t(c){var s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.prev=1,t.next=4,F.a.get(c,{cancelToken:n.token});case 4:s=t.sent,e&&(r(s.data),j(null)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e&&(j(t.t0.message),r([]));case 11:return t.prev=11,e&&O(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e){return t.apply(this,arguments)}}();c(t);return function(){e=!1,n.cancel()}}),[t]),{data:s,fetchError:u,isLoading:d}};var L=function(){var t=Object(d.f)((function(t){return t.setPosts})),e=C("http://localhost:3500/posts"),n=e.data,s=e.fetchError,r=e.isLoading;return Object(c.useEffect)((function(){t(n)}),[n,t]),Object(j.jsx)(p.d,{children:Object(j.jsxs)(p.b,{path:"/",element:Object(j.jsx)(f,{}),children:[Object(j.jsx)(p.b,{index:!0,element:Object(j.jsx)(v,{isLoading:r,fetchError:s})}),Object(j.jsxs)(p.b,{path:"post",children:[Object(j.jsx)(p.b,{index:!0,element:Object(j.jsx)(N,{})}),Object(j.jsx)(p.b,{path:":id",element:Object(j.jsx)(B,{})})]}),Object(j.jsx)(p.b,{path:"edit/:id",element:Object(j.jsx)(E,{})}),Object(j.jsx)(p.b,{path:"about",element:Object(j.jsx)(T,{})}),Object(j.jsx)(p.b,{path:"*",element:Object(j.jsx)(S,{})})]})})},A=n(14),M=n(28),H=F.a.create({baseURL:"http://localhost:3500"}),D=Object(d.d)({posts:[],setPosts:Object(d.b)((function(t,e){t.posts=e})),postTitle:"",setPostTitle:Object(d.b)((function(t,e){t.postTitle=e})),postBody:"",setPostBody:Object(d.b)((function(t,e){t.postBody=e})),editTitle:"",setEditTitle:Object(d.b)((function(t,e){t.editTitle=e})),editBody:"",setEditBody:Object(d.b)((function(t,e){t.editBody=e})),search:"",setSearch:Object(d.b)((function(t,e){t.search=e})),searchResults:[],setSearchResults:Object(d.b)((function(t,e){t.searchResults=e})),postCount:Object(d.c)((function(t){return t.posts.length})),getPostById:Object(d.c)((function(t){return function(e){return t.posts.find((function(t){return t.id.toString()===e}))}})),savePost:Object(d.e)(function(){var t=Object(P.a)(y.a.mark((function t(e,n,c){var s,r,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=c.getState(),r=s.posts,t.prev=1,t.next=4,H.post("/posts",n);case 4:o=t.sent,e.setPosts([].concat(Object(M.a)(r),[o.data])),e.setPostTitle(""),e.setPostBody(""),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("Error: ".concat(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n,c){return t.apply(this,arguments)}}()),deletePost:Object(d.e)(function(){var t=Object(P.a)(y.a.mark((function t(e,n,c){var s,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=c.getState(),r=s.posts,t.prev=1,t.next=4,H.delete("/posts/".concat(n));case 4:e.setPosts(r.filter((function(t){return t.id!==n}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log("Error: ".concat(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n,c){return t.apply(this,arguments)}}()),editPost:Object(d.e)(function(){var t=Object(P.a)(y.a.mark((function t(e,n,c){var s,r,o,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=c.getState(),r=s.posts,o=n.id,t.prev=2,t.next=5,H.put("posts/".concat(o),n);case 5:i=t.sent,e.setPosts(r.map((function(t){return t.id===o?Object(A.a)({},i.data):t}))),e.setEditTitle(""),e.setEditBody(""),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.log("Error: ".concat(t.t0.message));case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,n,c){return t.apply(this,arguments)}}())});o.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(d.a,{store:D,children:Object(j.jsx)(b.a,{children:Object(j.jsx)(p.d,{children:Object(j.jsx)(p.b,{path:"/*",element:Object(j.jsx)(L,{})})})})})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.68537975.chunk.js.map